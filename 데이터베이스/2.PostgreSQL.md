#2.PostgreSQL

---
## ✏️ `Join Expressions`
- `join`연산은 전형적으로 `from`에서 사용됨
1. `inner join`(매칭 안된 것 버림)
   - `Natural join`
2. `outer join`(매칭 안된 것 NULL로 채움)

### ✔️ `Natural Join`
#### ✨ Definition of Natural Join
**cartesian product**
```sql
//List the names of students along with the course ID’s that they have taken

select name, course_id
from students, takes
where student.ID = takes.ID;
```
- column 10개

**natural join**
```sql
select name, course_id
from student natural join takes;
```
- column 9개


**natural join in SQL**
```sql
select A1, A2, … An
from r1 natural join r2 natural join .. natural join rn
where P ;
```
- 여러개의 조인이 가능함
- r1,r2조인 1차 실행, 순서대로 다음 조인 하나씩 실행
- from -> where -> select 순서

**Student**
![Alt text](image/image-5.png)

**Takes**
![Alt text](image/image-6.png)

**student natural join takes**
![Alt text](image/image-7.png)


#### ✨ Using of Natural Join

**`1. Dangerous in natural join`**
- 공통된 모든 속성을 조인하기 때문에 사용에 주의해야함

- List the names of students along with the titles of courses that they have taken
**틀린 버전**
```sql
select name, title
from student natural join takes natural join course;
```
- student 4개 속성, takes 6개 속성 -> ID가 같으므로 natural join하면 9개 속성이됨
- 9개 속성 테이블과 course는 `cousse_id, dept_name`이 같은 속성임
- 의도하지 않은 `dept_name`이 조인됨
- 최종적으로 11개 컬럼이 됨

**올바른 버전**
```sql
select name, title
from student natural join takes, course
where takes.course_id = course.course_id;
```



**`2. Using`**
- To avoid the danger of equating attributes erroneously, we can use the “using” construct that allows us to specify exactly which columns should be
equated.
```sql
select name, title
from (student natural join takes) join course using (course_id)
```
- 중복된 컬럼이 제거됨


**`3. On`**
- `join`사용하면 `on`, or `using`사용하기
- This predicate is written like a `where` clause predicate except for the use of the keyword `on`
```sql
select *
from student join takes on student.ID = takes.ID
```
- ⬆️ `using`과 다르게 중복 칼럼이 제거되지 않음
- 전체 10개 컬럼이 만들어짐
- 아래 sql과 같은 의미
```sql
select *
from student , takes
where student.ID = takes.ID
```
- on에 같은 값 명시하고, where에 다른 조건 두면 가독성 증가함

---
### ✔️ `Outer Join`

